
<div class="container-fluid mt-2" id="companypage" name="companypage">
  <div class="container">
  <h6><strong>Company</strong></h6>
  <br>
  
  <div class="card">
  <div class="card-body">
  

  
	<div class="row">
		<div class="col-sm-6 pb-2">
			<div class="form-group">
				<label for="companyname">Company name</label>
				<input type="text" class="form-control rounded-pill" id="companyname" placeholder="eg: Herfy" name="companyname" autocomplete="off">
			</div>
		</div>
		<div class="col-sm-6">
			<div class="form-group">
				<label for="companylogo">Company logo</label>
				<select type="text" class="form-control rounded-pill" id="companylogo" placeholder="Company logo" name="companylogo">
                <option>logo_herfy</option>
                <option>bg_herfy</option>
                </select>
			</div>   
		</div>
        </div>
        	<div class="row">
        <div class="col-sm-6">
			<div class="form-group">
				<label for="companydomain">Company domain</label>
				<input type="text" class="form-control rounded-pill" id="companydomain" placeholder="eg: www.herfy.com" name="companydomain">
			</div>   
		</div>
        <div class="col-sm-6">
			<div class="form-group">
				<label for="iscompanyactive">Active</label>
				<div class="custom-control custom-switch custom-switch-lg">
					<input type="checkbox" class="custom-control-input" id="iscompanyactive" name="iscompanyactive" >
					<label class="custom-control-label" for="iscompanyactive"></label>
				</div>
			</div>    
		</div>
        
        
      
	</div> 
	  
	
  </div><!--< END class="card-body">  -->
			
  
</div>
 <div  style="height:20px"></div>
  <div class="row">
  <div class="col-md-6 ">
  </div>
  <div class="col-md-3">
  </div>
  <div class="col-md-3">
  <div class="input-group">
  <button type="button" class="btn btn-primary  form-control custom-input float-right rounded-pill border-0" id="callcreatecompany" name="callcreatecompany" >Save</button>
  </div>
  </div>
  </div>
			

</div>
    
</div>



<script>

$(document).ready(function(){

//$(document).on('click','#callcreatecompany',function(e) {
//alert('ds')
//});


//function callsendtocreatecompany()
//{
$(document).on('click','#callcreatecompany',function(e) {
var  companyname=$('#companyname').val();
var  companylogo=$('#companylogo').val() ;
var  companydomain=$('#companydomain').val();
var iscompanyactive = $('#iscompanyactive').prop('checked');

		var _companyparams = {
			"action" : "createcompany",
			"param"  : {"name" : companyname
                       ,"logo" : companylogo
                       ,"domain" : companydomain
                       ,"status" : iscompanyactive },
            "createby":{"createby":originalname}
			};
            
            if(companyname!='' && companylogo!='' && companydomain!='')
            {
              progressboxOpen();

            google.script.run
            .withFailureHandler(showerror)
            .withSuccessHandler(Companyconfirmation)
            .runAPI(_companyparams);
}
else
{
  messageboxOpen("2008");
}
});

function Companyconfirmation(result)
{
  progressboxClose();

if(result.result['code'] == '3000')
{
$('#companypage *').val('');
  messageboxOpen("3001");
}
else
{
  messageboxOpen("2007");

}
}

//google.script.run
//.withFailureHandler(showerror)
//.withSuccessHandler(retrive_allcompany)
//.getallcompanydetails({"action" : "show_allcompany"}); //Unlocked
//
//
//
function showerror(err)
{
  progressboxClose();
alert(err)
}
// var namearray=[];
//
// function retrive_allcompany(companydetails)
// {
//var length = (companydetails.data).length
//namearray=[];
//for (var x = 0; x < length; x++) { 
//namearray.push(companydetails.data[x].name)
//}
//}
});

</script>